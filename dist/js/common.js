function Acco(e){var c=this,a={};a.param=e,a.sel={acco:document.querySelector(a.param.acco),section:document.querySelectorAll(a.param.section),header:document.querySelectorAll(a.param.header),inner:document.querySelector(a.param.inner),image:document.querySelectorAll(a.param.image)},a.direction={startDirectionY:0,finalDirectinoY:0},c.imageDefault=function(){for(var e=0;e<=a.sel.image.length-1;e++)a.sel.image[e].classList.remove("acco-sect__image_active")},c.close=function(){for(var e=0;e<=a.sel.section.length-1;e++)a.sel.section[e].classList.remove("acco__sect_active"),a.sel.section[e].getElementsByClassName("acco-header__arrow")[0].classList.remove("acco-header__arrow_active"),a.sel.section[e].getElementsByClassName("acco-sect__body")[0].style.height=null},c.open=function(){var e=this.parentNode,t=e.getElementsByClassName("acco-header__arrow")[0],o=e.getElementsByClassName("acco-sect__body")[0],s=window.getComputedStyle(a.sel.inner).height,i=e.getAttribute("data-target"),r=document.querySelector(i);e.classList.contains("acco__sect_active")?c.close():(c.close(),c.imageDefault(),r.classList.add("acco-sect__image_active"),e.classList.add("acco__sect_active"),t.classList.add("acco-header__arrow_active"),o.style.height=s)};for(var t=0;t<=a.sel.header.length-1;t++)a.sel.header[t].addEventListener("click",c.open);a.sel.acco.addEventListener("touchstart",function(e){a.direction.startDirectionY=e.changedTouches[0].screenY}),a.sel.acco.addEventListener("touchend",function(e){a.direction.finalDirectionY=e.changedTouches[0].screenY,a.direction.startDirectionY>a.direction.finalDirectionY&&c.close()})}var acco=new Acco({acco:".acco__acco",section:".acco__sect",header:".acco-sect__header",inner:".acco-sect__inner",image:".acco-sect__image"});
function Timer(e,t){var i,n,r=this,s=t;r.resume=function(){n=new Date,i=setTimeout(function(){r.resume(),e()},s)},r.clear=function(){clearTimeout(i)},r.resume()}function Carousel(e){var t=this,i={};i.settings=e,i.sel={carousel:document.querySelector(i.settings.wrap),wrap:document.querySelector(i.settings.wrap),prev:document.querySelector(i.settings.prev),next:document.querySelector(i.settings.next)},i.position={current_position:0,max_position:i.sel.wrap.children.length},i.direction={current_directX:0,final_directX:0},i.autoplay_delay=3e3,i.sel.wrap.appendChild(i.sel.wrap.children[0].cloneNode(!0)),t.prev_slide=function(){--i.position.current_position,i.sel.wrap.style.transform="translateX(-"+i.position.current_position+"00%)",i.position.current_position<0&&(i.sel.wrap.classList.add("test-carousel__no-active"),i.position.current_position=i.position.max_position,i.sel.wrap.style.transform="translateX(-"+i.position.current_position+"00%)",setTimeout(function(){i.sel.wrap.classList.remove("test-carousel__no-active"),i.position.current_position=i.position.max_position-1,i.sel.wrap.style.transform="translateX(-"+i.position.current_position+"00%)"},20)),i.timer.clear()},t.next_slide=function(){++i.position.current_position,i.sel.wrap.style.transform="translateX(-"+i.position.current_position+"00%)",i.position.current_position>i.position.max_position&&(i.sel.wrap.classList.add("test-carousel__no-active"),i.position.current_position=0,i.sel.wrap.style.transform="translateX(-"+i.position.current_position+"00%)",setTimeout(function(){++i.position.current_position,i.sel.wrap.classList.remove("test-carousel__no-active"),i.sel.wrap.style.transform="translateX(-"+i.position.current_position+"00%)"},20))},i.sel.carousel.addEventListener("touchstart",function(e){e.preventDefault(),i.direction.current_directX=e.changedTouches[0].screenX,i.direction.current_directY=e.changedTouches[0].screenY,i.timer.clear()}),i.sel.carousel.addEventListener("touchend",function(e){e.preventDefault(),i.direction.final_directX=e.changedTouches[0].screenX,i.direction.final_directY=e.changedTouches[0].screenY,i.direction.current_directX>i.direction.final_directX?t.next_slide():t.prev_slide(),i.timer.clear()}),i.timer=new Timer(t.next_slide,i.autoplay_delay),i.sel.next.addEventListener("click",function(){i.timer.clear()}),i.sel.prev.addEventListener("click",t.prev_slide),i.sel.next.addEventListener("click",t.next_slide)}
